{% extends "base-v3.html" %}

{% block title %}Session Templates - {{ team.name }}{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row mb-4">
        <div class="col-md-8">
            <h2><i class="bi bi-file-earmark-text-fill"></i> Pre-built Session Templates</h2>
            <p class="text-muted">Choose a professionally designed practice session and customize it for your team.</p>
        </div>
        <div class="col-md-4 text-end">
            <a href="{{ url_for('main.start_practice_plan', team_id=team.id) }}" class="btn btn-secondary">
                <i class="bi bi-arrow-left"></i> Back
            </a>
        </div>
    </div>

    {% if templates %}
        <div class="row g-4">
            {% for template in templates %}
            <div class="col-md-6 col-lg-4">
                <div class="card template-card h-100">
                    <div class="card-header">
                        <span class="badge bg-{{ 'primary' if template.category == 'Possession' else 'success' if template.category == 'Attacking' else 'danger' if template.category == 'Defending' else 'warning' }}">
                            {{ template.category }}
                        </span>
                        {% if template.skill_level %}
                        <span class="badge bg-secondary">{{ template.skill_level }}</span>
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ template.name }}</h5>
                        <p class="card-text">{{ template.description }}</p>

                        <hr>

                        <div class="template-info">
                            <p class="mb-2">
                                <i class="bi bi-clock"></i> <strong>Duration:</strong> {{ template.total_duration }} minutes
                            </p>
                            <p class="mb-2">
                                <i class="bi bi-list-check"></i> <strong>Drills:</strong> {{ template.drills_count }}
                            </p>
                            {% if template.recommended_age_groups %}
                            <p class="mb-2">
                                <i class="bi bi-people"></i> <strong>Ages:</strong> {{ template.recommended_age_groups }}
                            </p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="card-footer bg-transparent">
                        <a href="{{ url_for('main.create_from_template', team_id=team.id, template_id=template.id) }}"
                           class="btn btn-primary w-100">
                            <i class="bi bi-pencil"></i> Use & Customize
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <i class="bi bi-inbox"></i>
            <h3>No Templates Available Yet</h3>
            <p>Session templates will be added soon. For now, use the custom builder.</p>
            <a href="{{ url_for('main.custom_practice_plan', team_id=team.id) }}" class="btn btn-primary btn-lg mt-3">
                <i class="bi bi-tools"></i> Use Custom Builder
            </a>
        </div>
    {% endif %}
</div>

<style>
.template-card {
    transition: all 0.3s ease;
}

.template-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

.template-card .card-header {
    background: linear-gradient(135deg, var(--steel-blue), var(--desert-gold));
    color: white;
    font-weight: 600;
}

.template-info {
    font-size: 0.95rem;
}

.template-info i {
    color: var(--steel-blue);
    margin-right: 5px;
}
</style>
{% endblock %}
